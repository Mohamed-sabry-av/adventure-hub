<div class="product-gallery" [class.mobile]="isMobile">
  <!-- Main image container -->
  <div class="main-image-container">
    <button class="nav-button prev-button" (click)="prevImage()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>

    <div class="main-image">
      <ng-container *ngIf="getGalleryImages().length > 0">
        <img
          [src]="getGalleryImages()[selectedImageIndex].src"
          [alt]="getGalleryImages()[selectedImageIndex].alt"
          (animationend)="onAnimationDone()"
          [class.slide-in-next]="animationDirection === 'next'"
          [class.slide-in-prev]="animationDirection === 'prev'"
        >
      </ng-container>
    </div>

    <button class="nav-button next-button" (click)="nextImage()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>

    <!-- Image counter for mobile -->
    <div class="image-counter" *ngIf="getGalleryImages().length > 1">
      {{ selectedImageIndex + 1 }} / {{ getGalleryImages().length }}
    </div>
  </div>

  <!-- Thumbnails - vertical on desktop (left side), horizontal on mobile (bottom) -->
  <div class="thumbnails-container" *ngIf="getGalleryImages().length > 1">
    <div class="thumbnails-wrapper">
      <div
        *ngFor="let image of getGalleryImages(); let i = index"
        class="thumbnail"
        [class.active]="i === selectedImageIndex"
        (click)="selectImage(i)"
      >
        <img [src]="image.src" [alt]="'Thumbnail ' + (i + 1)">
      </div>
    </div>
  </div>
</div>
