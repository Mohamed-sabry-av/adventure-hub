<div class="product-info">
  <h1 class="text-5xl font-medium text-olive mb-4">{{ productInfo()?.name }}</h1>

  <div class="flex items-baseline mb-4">
    <span class="text-2xl font-bold">{{ productInfo()?.price }} AED</span>
    <span class="text-gray-500 line-through ml-2">{{ productInfo()?.regular_price }}</span>
  </div>

  <!-- <div class="text-sm text-gray-500 mb-4">
    VAT included
  </div> -->

  <div class="mb-6">
    <span class="text-sm brandName">{{ brandName }}</span>   
    <!-- <span class="text-sm">SKU: {{ productSku.sku }}</span> -->

  </div>

  <!-- Quantity selector -->
  <div class="mb-6">
    <h3 class="font-medium mb-2">Quantity</h3>
    <div class="flex items-center">
      <button
        (click)="onQuantityDown()"
        class="w-10 h-10 border rounded-l flex items-center justify-center hover:bg-gray-100"
        [disabled]="quantity <= 1"
      >
        -
      </button>
      <div class="w-12 h-10 border-t border-b flex items-center justify-center">
        {{ quantity }}
      </div>
      <button
        (click)="onQuantityUp()"
        class="w-10 h-10 border rounded-r flex items-center justify-center hover:bg-gray-100"
        [disabled]="quantity >= maxLength"
      >
        +
      </button>
    </div>
  </div>
    <!-- Color selector if available -->
    @if (getColorOptions().length > 0) {
      <div class="mb-6">
        <!-- <h3 class="font-medium mb-2">Color</h3> -->
        <div class="flex gap-2">
          @for (colorOption of getColorOptions(); track colorOption.color) {
            <button
              [class.border-orange-500]="selectedColor === colorOption.color"
              [class.border-2]="selectedColor === colorOption.color"
              [class.opacity-50]="!colorOption.inStock"
              class="w-12 h-12 rounded border overflow-hidden flex-shrink-0"
              [title]="colorOption.color"
              (click)="selectColor(colorOption.color)"
              [disabled]="!colorOption.inStock"
            >
              <img [src]="colorOption.image" [alt]="colorOption.color" class="w-full h-full object-cover">
              @if (!colorOption.inStock) {
                <span class="text-xs absolute top-0 left-0 w-full bg-black bg-opacity-70 text-white p-1">Out of stock</span>
              }
            </button>
          }
        </div>
      </div>
    }
  
    <!-- Size selector if available -->
    @if (selectedColor && getSizesForColor(selectedColor).length > 0) {
    <!-- المقاسات -->
    <div class="mt-4">
      <!-- <div class="text-lg font-semibold text-[#4d4f3a] mb-2">
        Available Sizes:
      </div> -->
      <div class="flex gap-2 flex-wrap">
        @for (size of getSizesForColor(selectedColor); track size.size) {
        <div
          class="px-4 py-2 text-sm text-gray-500 bg-white border-2 border-gray-200 rounded-md cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:text-black hover:border-[#4d4f3a]"
          [class.opacity-50]="!size.inStock"
          [class.cursor-not-allowed]="!size.inStock"
          [class.bg-gray-50]="!size.inStock"
          [class.border-[#4d4f3a]="selectedSize === size.size"
          [class.shadow-md]="selectedSize === size.size"
          (click)="selectSize(size.size)"
        >
          <span>{{ size.size }}</span>
        </div>
        }
      </div>
    </div>
    }

  <!-- Add to Cart Button -->
  <button class="w-full bg-orange-500 text-white py-3 font-medium rounded-md mb-3 hover:bg-orange-600 transition-colors">
    ADD TO CART
  </button>

  <!-- Apple Pay Button -->
  <button class="w-full bg-black text-white py-3 font-medium rounded-md mb-3 flex items-center justify-center">
    Buy with
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-2" viewBox="0 0 24 24" fill="currentColor">
      <path d="M17.445 12.688c-.009-1.034.511-1.82 1.534-2.358-.57-.858-1.465-1.333-2.615-1.442-1.1-.106-2.24.65-2.665.65-.45 0-1.485-.615-2.315-.615-1.782.028-3.491 1.473-3.491 4.17 0 .833.153 1.692.46 2.576.409 1.136 1.884 3.922 3.428 3.87 1.047-.022 1.536-.695 2.681-.695 1.109 0 1.544.695 2.667.695 1.555-.025 2.855-2.485 3.241-3.631-2.06-.908-2.268-2.158-2.268-3.22zm-2.163-5.821c.885-1.138.792-2.169.767-2.524-1.122.06-2.043.796-2.574 1.666-.515.784-.702 1.581-.649 2.491 1.217.017 2.049-.603 2.456-1.633z"/>
    </svg>
  </button>
  <!-- الاضافه الي المفضله -->
  <div class="mt-4 flex items-center gap-x-2 cursor-pointer" [routerLink]="">
    <i class="pi pi-heart text-sm"></i>
    <span class="text-sm font-semibold hover:underline">Add to wishlist</span>
  </div>
  <!-- <div class="text-center text-sm mb-6">
    <button class="text-gray-600 underline">More payment options</button>
  </div> -->

  <!-- Tabby Payment -->
  <div class="bg-gray-50 p-4 rounded-md mb-6 flex items-center justify-between">
    <div>
      <p class="text-sm">4 interest-free payments or as low as <strong>AED {{ ((productInfo()?.price) / 10.45).toFixed(2) }}/month</strong></p>
      <p class="text-sm text-gray-500">More options</p>
    </div>
    <img src="https://ext.same-assets.com/1752825376/3628814952.png" alt="Tabby" class="h-8">
  </div>







  <!-- Delivery Info
  <div class="border border-gray-200 rounded-md mb-6">
    <button class="flex items-center justify-between w-full p-4">
      <div class="flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" />
        </svg>
        <span>Delivered in 2 Days</span>
      </div>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
      </svg>
    </button>
    <div class="p-4 pt-0 border-t border-gray-200">
      <p class="font-medium">Free Delivery Available</p>
      <p class="text-sm text-gray-600">On orders over AED 500</p>
    </div>
  </div> -->


  <!-- الدفع
  <div class="flex gap-x-2">
    <div class="flex">
      <input
        type="number"
        [value]="quantity"
        class="text-center text-gray-700 px-[6px] border rounded-md rounded-r-none w-14 h-14 outline-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"
      />
      <div
        class="flex flex-col border rounded-md rounded-l-none p-2 bg-white justify-between"
      >
        <i
          class="pi pi-angle-up text-gray-700 cursor-pointer"
          (click)="onQuantityUp()"
        ></i>
        <i
          class="pi pi-angle-down text-gray-700 cursor-pointer"
          (click)="onQuantityDown()"
        ></i>
      </div>
    </div>
    <button
      class="bg-orange-400 hover:bg-orange-500 transition-colors duration-300 font-semibold text-white px-6 rounded-md w-full"
    >
      Add to cart
    </button>
  </div>
 -->

  <!-- معلومات التوصيل -->
  <div class="mt-6 flex flex-col gap-y-1">
    <p class="text-sm">
      <span><i class="pi pi-check-circle text-sm mr-1"></i></span> Free Shipping
      in UAE For orders above AED 100.
    </p>
    <p class="text-sm">
      <span><i class="pi pi-check-circle text-sm mr-1"></i></span> 7 days easy
      returns.
    </p>
    <p class="text-sm">
      <span><i class="pi pi-check-circle text-sm mr-1"></i></span> Delivery
      within 1-2 working days.
    </p>
    <p class="text-sm">
      <span><i class="pi pi-check-circle text-sm mr-1"></i></span> World wide
      shipping.
    </p>
  </div>
</div>
