<section class="register-section">
    <h1>Create Account</h1>
    <form [formGroup]="signupForm" (ngSubmit)="onSignupSubmit()">
      <div class="form-group">
        <label for="username">Username</label>
        <input 
          type="text"
          id="signupUsername"
          formControlName="username"
          placeholder="User Name"
          [class.invalid]="signupForm.get('username')?.touched && signupForm.get('username')?.invalid"
          required>
        @if(signupForm.get('username')?.touched && signupForm.get('username')?.hasError('required')) {
          <span class="wrong">Username is required</span>
        }
        @if(signupForm.get('username')?.touched && signupForm.get('username')?.hasError('minlength')) {
          <span class="wrong">Username must be at least 3 characters</span>
        }
      </div>
  
      <div class="form-group">
        <label for="email">Email Address</label>
        <input 
          type="email"
          id="signupEmail"
          formControlName="email"
          placeholder="Your Email Address"
          [class.invalid]="signupForm.get('email')?.touched && signupForm.get('email')?.invalid"
          required>
        @if(signupForm.get('email')?.touched && signupForm.get('email')?.hasError('required')) {
          <span class="wrong">Email is required</span>
        }
        @if(signupForm.get('email')?.touched && signupForm.get('email')?.hasError('email')) {
          <span class="wrong">Please enter a valid email</span>
        }
      </div>
  
      <div class="form-group">
        <label for="password">Password</label>
        <input 
          type="password"
          id="signupPassword"
          placeholder="Your Password"
          formControlName="password"
          [class.invalid]="signupForm.get('password')?.touched && signupForm.get('password')?.invalid"
          required>
        @if(signupForm.get('password')?.touched && signupForm.get('password')?.hasError('required')) {
          <span class="wrong">Password is required</span>
        }
        @if(signupForm.get('password')?.touched && signupForm.get('password')?.hasError('minlength')) {
          <span class="wrong">Password must be at least 6 characters</span>
        }
      </div>
  
      <div class="form-group">
        <!-- إضافة reCAPTCHA -->
       <app-recapcha (recaptchaSuccess)="onRecaptchaSuccess($event)">

       </app-recapcha>
      </div>
  
      <div class="checkbox-group">
        <input type="checkbox" id="vendor">
        <label for="vendor">Become a Vendor?</label>
      </div>
  
      <p class="privacy-policy">
        By creating an account, you agree to our
        <a href="#" class="link">Terms of Service</a> and
        <a href="#" class="link">Privacy Policy</a>.
      </p>
  
      <button type="submit" class="submit-btn" [disabled]="signupForm.invalid || !recaptchaToken">Register Now</button>
    </form>
  
    @if(signupError) {
      <div class="error-message">{{ signupError }}</div>
    }
    @if(signupSuccess) {
      <div class="success-message">{{ signupSuccess }}</div>
    }
  
    <div class="additional-links">
      <span>Already have an account?</span>
      <a routerLink="/login" class="link">Login Here</a>
    </div>
  </section>