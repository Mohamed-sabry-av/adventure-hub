<div class="signup-content">
  <h2 class="form-title">Join The Adventure</h2>
  <p class="form-subtitle">Create your account and start exploring the outdoors</p>

  <form [formGroup]="signupForm" (ngSubmit)="onSignupSubmit()" class="auth-form">
    <div class="form-group">
      <label for="signupUsername">
        <i class="icon-user"></i>
        Username
      </label>
      <div class="input-container">
        <input type="text" id="signupUsername" formControlName="username" placeholder="Choose a username"
          [class.invalid]="signupForm.get('username')?.touched && signupForm.get('username')?.invalid" required />
      </div>
      @if(signupForm.get('username')?.touched && signupForm.get('username')?.hasError('required')){
      <div class="error-message">
        <i class="icon-error"></i> Username is required
      </div>
      }
      @if(signupForm.get('username')?.touched && signupForm.get('username')?.hasError('minlength')){
      <div class="error-message">
        <i class="icon-error"></i> Username must be at least 3 characters
      </div>
      }
    </div>

    <div class="form-group">
      <label for="signupEmail">
        <i class="icon-mail"></i>
        Email Address
      </label>
      <div class="input-container">
        <input type="email" id="signupEmail" formControlName="email" placeholder="Your email address"
          [class.invalid]="signupForm.get('email')?.touched && signupForm.get('email')?.invalid" required />
      </div>
      @if(signupForm.get('email')?.touched && signupForm.get('email')?.hasError('required')){
      <div class="error-message">
        <i class="icon-error"></i> Email is required
      </div>
      }
      @if(signupForm.get('email')?.touched && signupForm.get('email')?.hasError('email')){
      <div class="error-message">
        <i class="icon-error"></i> Please enter a valid email
      </div>
      }
    </div>

    <div class="form-group">
      <label for="signupPassword">
        <i class="icon-lock"></i>
        Password
      </label>
      <div class="input-container">
        <input type="password" id="signupPassword" formControlName="password" placeholder="Create a secure password"
          [class.invalid]="signupForm.get('password')?.touched && signupForm.get('password')?.invalid" required />
      </div>
      @if(signupForm.get('password')?.touched && signupForm.get('password')?.hasError('required')){
      <div class="error-message">
        <i class="icon-error"></i> Password is required
      </div>
      }
      @if(signupForm.get('password')?.touched && signupForm.get('password')?.hasError('minlength')){
      <div class="error-message">
        <i class="icon-error"></i> Password must be at least 6 characters
      </div>
      }
    </div>

    <div class="form-group">
      <app-recapcha (recaptchaSuccess)="onRecaptchaSuccess($event)"></app-recapcha>
    </div>

    <div class="vendor-checkbox">
      <input type="checkbox" id="vendor" class="custom-checkbox">
      <label for="vendor">Become a Vendor?</label>
    </div>

    <div class="terms-agreement">
      <p>
        By creating an account, you agree to our
        <a href="#" class="terms-link">Terms of Service</a> and
        <a href="#" class="terms-link">Privacy Policy</a>.
      </p>
    </div>

    <button type="submit" class="submit-btn" [disabled]="signupForm.invalid || !recaptchaToken">
      <span>Create Account</span>
      <i class="icon-arrow-right"></i>
    </button>

    <div class="auth-divider">
      <span>or sign up with</span>
    </div>

    <div class="social-login">
      <app-google-auth></app-google-auth>
      <app-facebook-auth></app-facebook-auth>
    </div>

    @if(signupError) {
    <div class="error-message-box">{{ signupError }}</div>
    }
    @if(signupSuccess) {
    <div class="success-message-box">{{ signupSuccess }}</div>
    }
  </form>
</div>