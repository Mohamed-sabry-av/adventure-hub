<section class="recommended-products py-8 px-4">
  <div class="container mx-auto">
    <div class="section-header flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold">Recommended For You</h2>
      <!-- <a routerLink="/products/recommended" class="text-blue-600 hover:text-blue-800 flex items-center">
        View all
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
      </a> -->
    </div>
    
    <!-- Loading Indicator -->
    @if (loading) {
      <div class="flex justify-center py-8">
        <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"></div>
      </div>
    }
    
    <!-- Error Message -->
    @if (error) {
      <div class="bg-red-100 text-red-700 p-4 mb-4 rounded">
        {{ error }}
      </div>
    }
    
    <!-- Products Carousel -->
    @if (!loading && !error && products.length > 0) {
      <div class="products-carousel overflow-hidden">
        <p-carousel 
          [value]="products" 
          [numVisible]="getVisibleItemsCount()" 
          [numScroll]="1"
          [circular]="true"
          [autoplayInterval]="5000"
          [responsiveOptions]="responsiveOptions"
          styleClass="custom-carousel"
        >
          <ng-template let-product pTemplate="item">
            <div class="carousel-item px-2">
              <app-product-card [product]="product"></app-product-card>
            </div>
          </ng-template>
        </p-carousel>
      </div>
    }
    
    <!-- No Products Found -->
    @if (!loading && !error && products.length === 0) {
      <div class="text-center py-8 bg-gray-100 rounded-lg">
        <p class="text-gray-600">No recommended products available at the moment.</p>
      </div>
    }
  </div>
</section>