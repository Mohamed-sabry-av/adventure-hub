<section class="recommended-products py-8 px-4">
  <div class="container mx-auto">
    <div class="section-header flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold">Recommended For You</h2>
    </div>

    @if (loading) {
      <div class="flex justify-center py-8">
        <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"></div>
      </div>
    }

    @if (error) {
      <div class="bg-red-100 text-red-700 p-4 mb-4 rounded">{{ error }}</div>
    }

    @if (!loading && !error && products.length > 0) {
      <div class="products-carousel overflow-hidden">
        <owl-carousel-o [options]="carouselOptions">
          @for (product of products; track product.id) {
            <ng-template carouselSlide [id]="product.id">
              <div class="px-2">
                <app-product-card [product]="product"></app-product-card>
              </div>
            </ng-template>
          }
        </owl-carousel-o>
      </div>
    }

    @if (!loading && !error && products.length === 0) {
      <div class="text-center py-8 bg-gray-100 rounded-lg">
        <p class="text-gray-600">No recommendations available at the moment.</p>
      </div>
    }
  </div>
</section>