<div class="sidebar-container">
    <button class="menu-toggle" (click)="toggleSidebar()">
      <i class="bi bi-list"></i>
    </button>
  
    <div class="sidebar-backdrop" [class.active]="sidebarOpen" (click)="closeSidebar()"></div>
  
    <aside class="sidebar" [class.active]="sidebarOpen">
      <div class="sidebar-header">
        <h3 class="sidebar-title">{{ currentMenuTitle }}</h3>
        <button *ngIf="showBackButton" class="back-button" (click)="goBack()">
          <i class="bi bi-chevron-left"></i>
        </button>
        <button class="close-button" (click)="toggleSidebar()">&times;</button>
      </div>
  
      <nav class="sidebar-nav">
        <ng-container *ngIf="!showSubcategories">
          <div class="nav-item" *ngFor="let category of mainCategories">
            <a class="nav-link" 
               [routerLink]="getCategoryRoute(category)" 
               (click)="closeSidebar()">
              {{ category.name }}
            </a>
            <i *ngIf="getSubCategories(category.id).length > 0"
               class="bi bi-chevron-right"
               (click)="showSubcategoriesFor(category)"></i>
          </div>
        </ng-container>
  
        <ng-container *ngIf="showSubcategories">
          <div class="nav-item" *ngFor="let sub of currentSubcategories">
            <a class="nav-link" 
               [routerLink]="getCategoryRoute(sub)" 
               (click)="closeSidebar()">
              {{ sub.name }}
            </a>
            <i *ngIf="getSubCategories(sub.id).length > 0"
               class="bi bi-chevron-right"
               (click)="showSubcategoriesFor(sub)"></i>
          </div>
        </ng-container>
  
        <div class="nav-item sale-item">
          <i class="bi bi-tag"></i>
          <span>SALE!</span>
        </div>
      </nav>
    </aside>
  </div>