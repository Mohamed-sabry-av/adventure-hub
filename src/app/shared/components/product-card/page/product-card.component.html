<div class="product-card" *ngIf="product" (mouseenter)="onHover(true)" (mouseleave)="onHover(false)">
  <app-card-image-slider
  [product]="product"
  [isHovered]="isCardHovered"
  [variations]="product.variations || []"
></app-card-image-slider>

  <!-- Product details (title, price, etc) -->
  <app-card-details
    [product]="product"
    [colorOptions]="colorOptions"
    [uniqueSizes]="uniqueSizes"
    [getBrandName]="getBrandName.bind(this)"
    [getBrandSlug]="getBrandSlug.bind(this)"
    [selectedVariation]="selectedVariation"
  ></app-card-details>

  <!-- Color swatches (if available) -->
  <app-color-swatches
    [colorOptions]="colorOptions"
    [visibleColors]="visibleColors"
    [selectedColor]="selectedColor"
    [colorScrollIndex]="colorScrollIndex"
    [maxColorScrollIndex]="maxColorScrollIndex"
    (selectColor)="selectColor($event.color, $event.image)"
    (scrollColors)="scrollColors($event)"
  ></app-color-swatches>

  <!-- Add to cart with options panel -->
  <app-mobile-quick-add
    [uniqueSizes]="uniqueSizes"
    [selectedSize]="selectedSize"
    [mobileQuickAddExpanded]="mobileQuickAddExpanded"
    [colorOptions]="colorOptions"
    [selectedColor]="selectedColor"
    [visibleColors]="visibleColors"
    [isMobile]="isMobile"
    [isHovered]="isHovered"
    [product]="product"
    [selectedVariation]="selectedVariation"
    (toggleMobileQuickAdd)="toggleMobileQuickAdd()"
    (selectSize)="onSelectSize($event)"
    (selectColor)="selectColor($event.color, $event.image)"
    (addToCart)="onAddToCartWithOptions($event)">
  </app-mobile-quick-add>

</div>
