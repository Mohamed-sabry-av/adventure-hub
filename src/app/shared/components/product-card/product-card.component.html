<div class="product-card">
  <div class="image-slider">
    <div class="slider-container" #sliderContainer>
      <div class="slide" *ngFor="let image of product?.images; let i = index" [ngClass]="{'active': i === currentSlide}">
        <img [src]="image.src" loading="lazy" [alt]="product.name" />
      </div>
    </div>

    <div class="slider-dots">
      <span *ngFor="let i of getDotCount(); let index = index" 
            class="dot" 
            [class.active]="index === currentSlide" 
            (click)="goToSlide(index)"></span>
    </div>
  </div>

  <div class="color-swatches" *ngIf="colorOptions.length > 0">
    <div 
      *ngFor="let option of colorOptions" 
      class="swatch"
      [class.selected]="selectedColor === option.color"
      (click)="selectColor(option.color, option.image)">
      <img [src]="option.image" [alt]="option.color" />
    </div>
  </div>

  <div class="product-details">
    <h3 class="product-name">{{ product.name }}</h3>
    <p class="product-variant">{{ product.variant }}</p>
    <p class="product-color">{{ product.color }}</p>
    <p class="product-price">
      <span class="original-price" *ngIf="product.originalPrice">{{ product.originalPrice }}</span>
      {{ product.price }} {{ product.currency || "AED" }}
    </p>
  </div>

  <a><button class="buy-button" routerLink="/product/{{ product.id }}">Buy Now</button></a>
</div>